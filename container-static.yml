version: '2'
services:
  build-slave-centos6:
    from: "centos:6"
    ports:
        - "5000:5200"
    command: ["/usr/sbin/sshd", "-D","-p","5200"]
    volumes_from:
      - CODE-RADE-src:rw
      - CODE-RADE-modules:rw
      - CODE-RADE-soft:rw
      - CODE-RADE-repo:rw
      - CODE-RADE-cvmfs:rw
  build-slave-centos7:
    from: "centos:7"
    ports:
        - "5001:5200"
    command: ["/usr/sbin/sshd", "-D","-p","5200"]
    volumes_from:
      - CODE-RADE-src:rw
      - CODE-RADE-modules:rw
      - CODE-RADE-soft:rw
      - CODE-RADE-repo:rw
      - CODE-RADE-cvmfs:rw
  build-slave-ubuntu1404:
    from: "ubuntu:14.04"
    ports:
        - "5002:5200"
    command: ["/usr/sbin/sshd", "-D","-p","5200"]
    volumes_from:
      - CODE-RADE-src:rw
      - CODE-RADE-modules:rw
      - CODE-RADE-soft:rw
      - CODE-RADE-repo:rw
      - CODE-RADE-cvmfs:rw
  build-slave-ubuntu161-:
    from: "ubuntu:16.10"
    ports:
        - "5003:5200"
    command: ["/usr/sbin/sshd", "-D","-p","5200"]
    volumes_from:
      - CODE-RADE-src:rw
      - CODE-RADE-modules:rw
      - CODE-RADE-soft:rw
      - CODE-RADE-repo:rw
      - CODE-RADE-cvmfs:rw


  CODE-RADE-src:
    from: alpine
    command: ["/bin/sh","-c",“while true; do sleep 1000; done"]
    volumes:
      - /data/src
  CODE-RADE-soft:
    from: alpine
    command: ["/bin/sh","-c",“while true; do sleep 1000; done"]
    volumes:
      - /data/ci-build
  CODE-RADE-repo:
    from: alpine
    command: ["/bin/sh","-c",“while true; do sleep 1000; done"]
    volumes:
      - /data/artefacts
  CODE-RADE-modules:
    from: alpine
    command: ["/bin/sh","-c",“while true; do sleep 1000; done"]
    volumes:
      - /data/modules
  CODE-RADE-cvmfs:
    from: alpine
    command: ["/bin/sh","-c",“while true; do sleep 1000; done"]
    volumes:
      - /cvmfs


registries:
  docker:
    url: https://hub.docker.com
    namespace: /u/aaroc
  quay:
    url: https://quay.io
    namespace: aaroc
